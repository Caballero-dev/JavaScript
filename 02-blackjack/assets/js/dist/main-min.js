(()=>{"use strict";let e=[],a=[],t=document.querySelector("#btnNew"),d=document.querySelector("#btnRequest"),s=document.querySelector("#btnStop"),l=(t=2)=>{e=DeckModule.createDeck(),a=[];for(let l=0;l<t;l++)a.push(0);UIModule.clearCards(),UIModule.resetPoints(),d.disabled=!1,s.disabled=!1},r=(e,t)=>(a[t]=a[t]+DeckModule.cardValue(e),UIModule.updatePoints(a[t],t),a[t]),o=()=>{let[e,t]=a;e>t&&e<=21?UIModule.showResult("Jugador gana :)"):e<=21&&t>21?UIModule.showResult("Jugador gana :) :)"):t>e&&t<=21?UIModule.showResult("Computadora gano :("):t<=21&&e>21?UIModule.showResult("Computadora gano :( :("):UIModule.showResult("Nadie ha ganado >_<")},i=t=>{let d=0;do{let s=DeckModule.requestCard(e),l=a.length-1;d=r(s,l),UIModule.createCard(s,l)}while(d<t&&t<=21);o()};d.addEventListener("click",()=>{let a=DeckModule.requestCard(e),t=r(a,0);UIModule.createCard(a,0),t>21?(d.disabled=!0,s.disabled=!0,i(t)):21===t&&(d.disabled=!0,s.disabled=!0,i(t))}),s.addEventListener("click",()=>{d.disabled=!0,s.disabled=!0,i(a[0])}),t.addEventListener("click",()=>{l()})})();